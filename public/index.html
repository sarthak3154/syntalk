
<html>
<head>
	<style type="text/css">
    * {
        margin: 0px;
        outline: 0px;
        /* [disabled]padding:0px; */
        border: 0px;  
    }
    body, html
    {
        width:100%;
        min-height: 100%;
        background-color:black;
        
    }
    #myapp{
    	width: 70%;
    	height: 500px;
    	margin: auto;
    }
    video:first-child {
    	width: 60%;
    	height: 80%;
    	margin-left: 20%;
    	margin-top: 5%;
    	float: left;
    }
    video {
    	width: 15%;
    	height: 15%;
    	float: left;
    	margin-left: 22%;
    	margin-top: -7.2%;
    }
	</style>
</head>
<body>
<script src="https://rtcmulticonnection.herokuapp.com/dist/RTCMultiConnection.min.js"></script>
<script src="https://rtcmulticonnection.herokuapp.com/socket.io/socket.io.js"></script>
<script src="http://code.responsivevoice.org/responsivevoice.js"></script>
<script src="/socket.io/socket.io.js"></script>

	<div id="myapp">
	<script>
		function textToSpeech(text)
		{
			responsiveVoice.speak(text);
		}
	    const connection = new RTCMultiConnection();
	    const socket = io();
		connection.socketURL = 'https://rtcmulticonnection.herokuapp.com:443/';
			    
	    connection.session = {
	        audio: false,
	        video: true
	    };

		connection.openOrJoin('your-room-id');



		const constraints = {
	        audio: true,
	        video: false
	    };

	    socket.on('translation', (text) => {
	    	textToSpeech(text);
	    });

	    navigator.mediaDevices.getUserMedia(constraints).then(mediaStream => {
	        socket.emit('media', mediaStream);
	    }).catch(error => {
	        console.log('navigator.getUserMedia error: ', error);
	    });
	    
	</script>
	</div>
</body>
</html>